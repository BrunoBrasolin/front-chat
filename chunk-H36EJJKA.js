import"./chunk-2VMXMS7J.js";import{bootstrapApplication as x}from"@angular/platform-browser";import{provideZoneChangeDetection as f}from"@angular/core";var l={providers:[f({eventCoalescing:!0})]};import"@angular/core";var s=function(n){return n.User="user",n.Chatbot="chatbot",n}(s||{});import{FormControl as C,ReactiveFormsModule as _,Validators as M}from"@angular/forms";import{CommonModule as O}from"@angular/common";import*as t from"@angular/core";import*as o from"@angular/forms";import"@angular/core";import*as c from"@angular/core";import*as m from"@angular/common/http";var p=(()=>{let e=class e{constructor(i){this.http=i}sendUserMessage(i){return this.http.post("http://localhost:8080/",i)}};e.\u0275fac=function(r){return new(r||e)(c.\u0275\u0275inject(m.HttpClient))},e.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();import*as g from"@angular/common";function P(n,e){if(n&1&&(t.\u0275\u0275elementStart(0,"div")(1,"div",11)(2,"span",12),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()()),n&2){let d=e.$implicit;t.\u0275\u0275classMapInterpolate1("message-content ",d.sender,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",d.message," ")}}function v(n,e){n&1&&(t.\u0275\u0275elementStart(0,"div",13)(1,"div",11)(2,"span",12)(3,"div",14),t.\u0275\u0275element(4,"div",15)(5,"div",15)(6,"div",15),t.\u0275\u0275elementEnd()()()())}var h=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.service=r,this.transcript=null,this.loading=null,this.userInput=new C("",[M.required]),this.messages=[],this.chatForm=this.formBuilder.group({userInput:this.userInput}),"webkitSpeechRecognition"in window?(this.recognition=new window.webkitSpeechRecognition,this.recognition.lang="en-US",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=a=>{this.transcript=a.results[0][0].transcript,alert(this.transcript)},this.recognition.onerror=a=>{console.error("Speech recognition error",a)}):console.log("Nao")}startListening(){this.recognition&&this.recognition.start()}handleMessageSent(){let i=this.userInput.value;if(i==null||i==""){alert("Favor informar uma mensagem.");return}this.loading=!0,this.userInput.setValue(""),this.messages.push({sender:s.User,message:i}),this.scrollToBottom();let r={message:i,language:"portuguese"};this.service.sendUserMessage(r).subscribe(a=>{this.loading=!1,this.messages.push({sender:s.Chatbot,message:a.message}),this.scrollToBottom()})}scrollToBottom(){setTimeout(()=>{document.querySelector("#chatEnd")?.scrollIntoView({behavior:"smooth"})},1)}};e.\u0275fac=function(r){return new(r||e)(t.\u0275\u0275directiveInject(o.FormBuilder),t.\u0275\u0275directiveInject(p))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-root"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:14,vars:4,consts:[[1,"chatbot-content"],[1,"chatbot-header"],[1,"chatbot-title"],[3,"click"],[1,"chatbot-body"],[3,"class",4,"ngFor","ngForOf"],["class","message-content chatbot",4,"ngIf"],["id","chatEnd"],[1,"chatbot-footer",3,"ngSubmit","formGroup"],["type","text","formControlName","userInput","placeholder","Digite sua mensagem...",1,"chatbot-input"],["type","submit",1,"chatbot-send",3,"disabled"],[1,"message"],[1,"text"],[1,"message-content","chatbot"],[1,"loading-dots"],[1,"dot"]],template:function(r,a){r&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span",2),t.\u0275\u0275text(3,"Dalme"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",3),t.\u0275\u0275listener("click",function(){return a.startListening()}),t.\u0275\u0275text(5,"Start Voice Input"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",4),t.\u0275\u0275template(7,P,4,4,"div",5)(8,v,7,0,"div",6),t.\u0275\u0275element(9,"div",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"form",8),t.\u0275\u0275listener("ngSubmit",function(){return a.handleMessageSent()}),t.\u0275\u0275element(11,"input",9),t.\u0275\u0275elementStart(12,"button",10),t.\u0275\u0275text(13,"Enviar"),t.\u0275\u0275elementEnd()()()),r&2&&(t.\u0275\u0275advance(7),t.\u0275\u0275property("ngForOf",a.messages),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loading),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",a.chatForm),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.loading))},dependencies:[_,o.\u0275NgNoValidate,o.DefaultValueAccessor,o.NgControlStatus,o.NgControlStatusGroup,o.FormGroupDirective,o.FormControlName,O,g.NgForOf,g.NgIf],styles:["@keyframes _ngcontent-%COMP%_dotUp{0%,to{transform:translateY(0)}50%{transform:translateY(-2.3333333333px)}}@keyframes _ngcontent-%COMP%_dotMiddle{0%,to{transform:translateY(0)}50%{transform:translateY(-2.3333333333px)}}@keyframes _ngcontent-%COMP%_dotDown{0%,to{transform:translateY(0)}50%{transform:translateY(-2.3333333333px)}}.chatbot-content[_ngcontent-%COMP%]{height:100%;width:100%;max-width:1366px;margin:0 auto;display:flex;flex-direction:column;color:#1e1a1d}.chatbot-content[_ngcontent-%COMP%]   .chatbot-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60px;background-color:gold;font-size:2rem;column-gap:1rem}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:28px}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{position:relative;max-width:70%}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{background-color:gold;border-radius:5px;white-space:pre-line;display:flex;padding:10px}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:3.5px;margin:0 1rem}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:7px;height:7px;background-color:#1e1a1d;border-radius:50%;display:inline-block;animation-duration:1s;animation-timing-function:ease-in-out;animation-iteration-count:infinite}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(1){animation-name:_ngcontent-%COMP%_dotUp;animation-delay:0s}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(2){animation-name:_ngcontent-%COMP%_dotMiddle;animation-delay:.3333333333s}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(3){animation-name:_ngcontent-%COMP%_dotDown;animation-delay:.6666666667s}.chatbot-content[_ngcontent-%COMP%]   .chatbot-body[_ngcontent-%COMP%]   .message-content.user[_ngcontent-%COMP%]{justify-content:flex-end}.chatbot-content[_ngcontent-%COMP%]   .chatbot-footer[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid #e0e0e0}.chatbot-content[_ngcontent-%COMP%]   .chatbot-footer[_ngcontent-%COMP%]   .chatbot-input[_ngcontent-%COMP%]{flex:1;margin-right:10px;padding:10px;border:1px solid #e0e0e0;border-radius:5px;text-transform:none}.chatbot-content[_ngcontent-%COMP%]   .chatbot-footer[_ngcontent-%COMP%]   .chatbot-send[_ngcontent-%COMP%]{padding:10px 15px;background-color:gold;cursor:pointer;border:none;border-radius:5px}.chatbot-content[_ngcontent-%COMP%]   .chatbot-footer[_ngcontent-%COMP%]   .chatbot-send[_ngcontent-%COMP%]:hover{background-color:#fad300}"]});let n=e;return n})();x(h,l).catch(n=>console.error(n));
